        function render() {
            c.width = v.videoWidth / 4;
            c.height = v.videoHeight / 4;
            ctx.drawImage(v, 0, 0, c.width, c.height);
            
            let f = ctx.getImageData(0, 0, c.width, c.height);
            let d = f.data;
            let greenCount = 0;

            for (let i = 0; i < d.length; i += 4) {
                let r = d[i], g = d[i+1], b = d[i+2];
                
                // ACCURATE GREEN DETECTION:
                // 1. Green must be bright (g > 70)
                // 2. Green must be significantly stronger than Red AND Blue
                if (g > 70 && g > r * 1.3 && g > b * 1.1) {
                    greenCount++;
                    d[i] = 0; d[i+1] = 255; d[i+2] = 0; d[i+3] = 255; // Highlight Green
                } else {
                    d[i+3] = 0; // Ignore everything else (Black, White, Wood)
                }
            }
            ctx.putImageData(f, 0, 0);
            
            // Only blur the screen if a significant amount of green is found
            if (greenCount > 50) { 
                v.style.filter = "blur(25px)"; 
                c.style.display = "block"; // Shows you the green mask
            } else {
                v.style.filter = "blur(0px)";
                c.style.display = "none";
            }
            requestAnimationFrame(render);
        }
